import java.net.InetSocketAddress;

import org.java_websocket.WebSocket;
import org.java_websocket.handshake.ClientHandshake;
import org.java_websocket.server.WebSocketServer;

public class Main extends WebSocketServer {
 
  public Main() {
    super(new InetSocketAddress(8887));
  }
 
  @Override
  public void onOpen(WebSocket conn,
      ClientHandshake handshake) {
    //Handle new connection here
  }
 
  @Override
  public void onMessage(WebSocket conn,
      String message) {
    //Handle client received message here
    //send a message back:
    conn.send("a message");
  }
 
  @Override
  public void onClose(WebSocket conn, int code,
      String reason, boolean remote) {
    //Handle closing connection here
  }
 
  @Override
  public void onError(WebSocket conn,
      Exception exc) {
    //Handle error during transport here
  }
 
  public static void main(String[] args) {
    Main server = new Main();
    server.start();
  }
}